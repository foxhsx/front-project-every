### 实现效果

我们经常会看到一些官网下拉到某个部分时，会有元素飞进来的效果，今天做的 demo，就是类似的效果。

### HTML 结构

因为只是做一个小 demo，所以我们这里写死了十几个 DIV，来撑开整体页面的高度，从而让我们可以实现滚动

### CSS

最外层的布局还是先从 body 开始，弹性布局上去，然后这次我们给 body 的 X 轴方向固定即可，Y 轴方法是可以滚动的。

然后 h1 我们设置一下它的外边距即可。

box 元素我们其他的样式抛开不说，主要说一下动画部分，初始动画是将所有的 box 元素都平移到 X 轴的右侧 400% 的位置，然后再使用 `:nth-of-type` 将 `even` 设置为平移到 X 轴左侧 400% 的位置。

> 这样做的结果就是，页面上的 div 元素都会一左一右的藏到我们看不到的地方去

因为现在所有的元素都隐藏起来了，我们要给将来展示到可视区域部分的 div 加上一个类名，让它显示出来，所有有了 `show` 的 class，而它的样式就是让 div 回到 X 轴的起始位置。

哦，对了还有一点就是所有的 div 都是一个竖向排列的布局，这里使用了 `flex-drection` 为 `column`，这个样式属性在 body 上可以看到。

### JS

这里的 JS 部分，涉及到的重点在于 `triggerBottom` 和 `boxTop` :

- triggerBottom：我们直译为触发底部，那么可想而知，我们需要做的就是知道怎么计算出这个值，在这个案例中，使用的是 `window.innerHeight` 属性来拿到视图区域的高度，然后除以 5（将整体划分为五等分），然后再乘以 4，意思是按照四个等分的高度来做触发底部的节点值。只要触发到这个值的时候，就会展示一个 box 出来
- boxTop：每一个 box 相对于视口顶部的大小 `box.getBoundingClientRect().top`，我们知道 `getBoundingClientRect` 返回的是元素的大小和其相对于视口的位置，所以这里实际上是算出每一个盒子在 scroll 时刻，对于视口的 top 值。
- 有了这两个值以后，就可以拿来做对比，top 大于 bottom 则表示需要展示新的 box 出来，所以我们需要 `add show`，而如果小于 `bottom` 就表示需要将其隐藏，我们需要 `remove show`
