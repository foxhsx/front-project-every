### 展示效果

[喝水](http://project-demo.ihsxu.com/drink-water/)

### HTML 结构

整个页面结构由 5 部分构成。

1. 第一部分和第二部分都是标题
2. 第二部分是主要展示区域

- 大水杯
- 水的实际容量

3. 提示语句
4. 选择喝几杯水

### CSS

1. 页面背景色为蓝色
2. 两个标题之间有一定的间距
3. 水杯的通用样式都是：

- 背景色为白色
- 有个 4 像素边框
- 字体颜色和边框颜色相同
- 左下角和右下角的圆角大小为 40 像素
- 弹性布局，方向垂直

4. 倒满水的样式把水杯的背景色改为蓝色，字体颜色改为白色
5. 小水杯的整体部分是一个弹性布局，宽度为 280 像素，这样这 8 个杯子就能平铺
6. 剩余空间的样式只是做了一个弹性布局后，加了一个过渡动画，里面用来提示的文字加粗，大小为 20 像素，还有一个小字大小为 12 像素
7. 百分数的地方，其实就是被装了水的地方，所以背景色又是蓝色
8. 提示选择喝水的文字也设置了居中的设置和一个外边距的设置

### JS

这次的 DEMO 中涉及到的 DOM 元素操作比较多，所以我们首先要获取到以下几个 DOM 节点集合：

- 小杯子 `cup-small`
- 多少升 `liters`
- 百分数 `percentage`
- 剩余空间 `remained`

然后我们还需要有两个方法：

1. 高亮杯子——即选中效果
2. 更新大杯子的状态

那么对于第一个方法，我们显而易见是需要绑定在小杯子上的；而每次点击时都会触发这个高亮的方法，再在高亮方法里面去执行更新大杯子状态的方法（很明显，每次点击，大杯子的状态肯定是需要去更新的），再初始刚进来页面时，也需要先调一下这个更新方法，相当于初始化大杯子的状态。

这里有一个逻辑需要清楚：

1. 如果是相邻的两个小杯子，点击的时候就是会有一个 toggle 的效果
2. 如果不是相邻的小杯子，点击的时候会保留当前的杯子状态，将其之后的杯子都清空
